<view class="print-container">
  <!-- 销售单标题 -->
  <view class="print-title">销售单</view>

  <!-- 表头信息 -->
  <view class="header-info">
    <view class="header-row">
      <view class="header-item">
        <text class="label">客户名称:</text>
        <text class="value">{{order.customerName || ''}}</text>
      </view>
      <view class="header-item right">
        <text class="label">单号:</text>
        <text class="value">{{order.orderNumber || ''}}</text>
      </view>
    </view>
    <view class="header-row">
      <view class="header-item">
        <text class="label">电话:</text>
        <text class="value">{{order.customerPhone || ''}}</text>
      </view>
      <view class="header-item right">
        <text class="label">日期:</text>
        <text class="value">{{order.createdAt || ''}}</text>
      </view>
    </view>
  </view>

  <!-- 商品明细表格 -->
  <view class="products-table">
    <!-- 表头 -->
    <view class="table-header">
      <view class="th th-index">编号</view>
      <view class="th th-name">品名</view>
      <view class="th th-spec">规格</view>
      <view class="th th-qty">数量</view>
      <view class="th th-unit">单位</view>
      <view class="th th-price">单价</view>
      <view class="th th-amount">金额</view>
      <view class="th th-remark">备注</view>
    </view>
    <!-- 表格内容 -->
    <view class="table-body">
      <view class="table-row" wx:for="{{order.products}}" wx:key="id">
        <view class="td td-index">{{item.code || ''}}</view>
        <view class="td td-name">{{item.name || ''}}</view>
        <view class="td td-spec">{{item.specification || ''}}</view>
        <view class="td td-qty">{{item.quantity % 1 === 0 ? item.quantity : item.quantity.toFixed(1)}}</view>
        <view class="td td-unit">{{item.unitName || '斤'}}</view>
        <view class="td td-price">{{item.price ? '¥' + item.price : ''}}</view>
        <view class="td td-amount">{{item.totalAmount ? '¥' + item.totalAmount : ''}}</view>
        <view class="td td-remark">{{item.remark || ''}}</view>
      </view>
      <!-- 空白行填充 -->
      <view class="table-row empty-row" wx:for="{{emptyRows}}" wx:key="index">
        <view class="td td-index"></view>
        <view class="td td-name"></view>
        <view class="td td-spec"></view>
        <view class="td td-qty"></view>
        <view class="td td-unit"></view>
        <view class="td td-price"></view>
        <view class="td td-amount"></view>
        <view class="td td-remark"></view>
      </view>
    </view>
  </view>

  <!-- 汇总信息 -->
  <view class="summary-section">
    <view class="summary-row">
      <view class="summary-item">
        <text class="label">本页货款:</text>
        <text class="value amount">¥{{order.totalAmount || '0.00'}}</text>
      </view>
      <view class="summary-item">
        <text class="label">本单货款(大写):</text>
        <text class="value">{{order.totalAmountInChinese || ''}}</text>
      </view>
    </view>
    <view class="summary-row">
      <view class="summary-item">
        <text class="label">前欠款:</text>
        <text class="value">{{order.previousDebt ? '¥' + order.previousDebt : '0.00'}}</text>
      </view>
      <view class="summary-item">
        <text class="label">经手人:</text>
        <text class="value">{{order.operator || ''}}</text>
      </view>
    </view>
  </view>

  <!-- 底部说明 -->
  <view class="footer-note">
    <text class="note-text">注: 货物当面点清，过后概不负责。</text>
  </view>

  <!-- 打印按钮 -->
  <view class="actions">
    <button class="action-btn print-btn" bindtap="print">打印</button>
    <button class="action-btn back-btn" bindtap="goBack">返回</button>
  </view>
</view>

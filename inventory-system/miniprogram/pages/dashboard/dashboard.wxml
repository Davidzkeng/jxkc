<view class="container">
  <view class="header">
    <text class="header-title">è¿›é”€åº“å­˜ç³»ç»Ÿ</text>
  </view>

  <view class="stats-grid">
    <view class="stat-card" bindtap="navigateToProducts">
      <text class="stat-value">{{stats.totalProducts}}</text>
      <text class="stat-label">å•†å“æ€»æ•°</text>
    </view>
    <view class="stat-card" bindtap="navigateToProducts">
      <text class="stat-value">{{stats.totalStock}}</text>
      <text class="stat-label">åº“å­˜æ€»é‡</text>
    </view>
    <view class="stat-card">
      <text class="stat-value warning">{{stats.lowStockCount}}</text>
      <text class="stat-label">åº“å­˜é¢„è­¦</text>
    </view>
    <view class="stat-card">
      <text class="stat-value">{{stats.todayIn}}</text>
      <text class="stat-label">ä»Šæ—¥å…¥åº“</text>
    </view>
    <view class="stat-card">
      <text class="stat-value">{{stats.todayOut}}</text>
      <text class="stat-label">ä»Šæ—¥å‡ºåº“</text>
    </view>
  </view>

  <view class="section">
    <view class="section-header">
      <text class="section-title">åŠŸèƒ½èœå•</text>
    </view>
    <view class="menu-grid">
      <view class="menu-item" bindtap="navigateToSalesOrders">
        <text class="menu-icon">ğŸ“‹</text>
        <text class="menu-text">é”€å”®å•</text>
      </view>
      <view class="menu-item" bindtap="scanCode">
        <text class="menu-icon">ğŸ“·</text>
        <text class="menu-text">æ‰«ç å…¥åº“</text>
      </view>
      <view class="menu-item" bindtap="scanCodeOut">
        <text class="menu-icon">ğŸ“·</text>
        <text class="menu-text">æ‰«ç å‡ºåº“</text>
      </view>
      <view class="menu-item" bindtap="navigateToCustomers">
        <text class="menu-icon">ğŸ‘¥</text>
        <text class="menu-text">å®¢æˆ·ç®¡ç†</text>
      </view>
      <view class="menu-item" bindtap="navigateToSuppliers">
        <text class="menu-icon">ğŸ¤</text>
        <text class="menu-text">ä¾›åº”å•†ç®¡ç†</text>
      </view>
      <view class="menu-item" bindtap="navigateToCategories">
        <text class="menu-icon">ğŸ“</text>
        <text class="menu-text">åˆ†ç±»ç®¡ç†</text>
      </view>
    </view>
  </view>

  <view class="section">
    <view class="section-header">
      <text class="section-title">æœ€è¿‘å•†å“</text>
      <text class="section-more" bindtap="navigateToProducts">æŸ¥çœ‹å…¨éƒ¨</text>
    </view>

    <view wx:if="{{loading}}" class="loading">
      <text>åŠ è½½ä¸­...</text>
    </view>

    <view wx:else>
      <view wx:if="{{recentProducts.length === 0}}" class="empty-state">
        <text class="empty-icon">ğŸ“¦</text>
        <text>æš‚æ— å•†å“</text>
      </view>

      <view wx:else class="product-list">
        <view
          class="list-item"
          wx:for="{{recentProducts}}"
          wx:key="id"
          bindtap="navigateToProduct"
          data-id="{{item.id}}"
        >
          <view class="product-info">
            <text class="product-name">{{item.name}}</text>
            <text class="product-code">ç¼–ç : {{item.code}}</text>
          </view>
          <view class="product-meta">
            <text class="product-stock">åº“å­˜: {{item.stock}}</text>
            <text class="product-price">Â¥{{item.price}}</text>
          </view>
        </view>
      </view>
    </view>
  </view>
</view>

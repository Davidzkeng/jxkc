<view class="container">
  <view wx:if="{{loading}}" class="loading">
    <text>åŠ è½½ä¸­...</text>
  </view>

  <view wx:else>
    <view wx:if="{{inRecords.length === 0}}" class="empty-state">
      <text class="empty-icon">ğŸ“¥</text>
      <text>æš‚æ— å…¥åº“è®°å½•</text>
    </view>

    <view wx:else class="record-list">
      <view
        class="record-card"
        wx:for="{{inRecords}}"
        wx:key="id"
      >
        <view class="record-header">
          <text class="record-title">{{item.product.name}}</text>
          <text class="record-date">{{item.formattedDate}}</text>
        </view>
        <view class="record-body">
          <view class="record-row">
            <text class="label">ä¾›åº”å•†:</text>
            <text class="value">{{item.supplier.name}}</text>
          </view>
          <view class="record-row">
            <text class="label">æ•°é‡:</text>
            <text class="value quantity">+{{item.quantity}}</text>
          </view>
          <view class="record-row">
            <text class="label">å•ä»·:</text>
            <text class="value">Â¥{{item.price}}</text>
          </view>
          <view class="record-row">
            <text class="label">æ€»é¢:</text>
            <text class="value total">Â¥{{item.totalAmount}}</text>
          </view>
        </view>
        <view class="record-actions">
          <button class="action-btn delete" bindtap="deleteRecord" data-id="{{item.id}}">åˆ é™¤</button>
        </view>
      </view>
    </view>
  </view>

  <view class="fab" bindtap="navigateToAdd">+</view>
</view>
